mobile_recon_and_assault = {
    track = support
    name = SUBDOCTRINE_MOBILE_RECON_AND_ASSAULT
    description = SUBDOCTRINE_MOBILE_RECON_AND_ASSAULT_DESC
    icon = GFX_doctrine_mobile_recon_assault_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }
    visible = {
        has_dlc = "La Resistance"
    }
    
    ai_will_do = {

        base = 1
        modifier = {
            factor = 75
            original_tag = GER
        }
        modifier = {
            factor = 75
            original_tag = USA
        }
        modifier = {
            factor = 0
            is_major = no
        }
    }
    

    category_recon = {
        max_organisation = 10
    }

    rewards = {

        motorization_support = {
            category_support_battalions = {
                max_organisation= 10
                default_morale = 0.1
            }

        }
        long_range_reconnaissance = {
            armored_car_recon = {
                desert = {
                    attack = 0.03
                }
                hills = {
                    attack = 0.03
                }
            }
           light_tank_recon = {
                forest = {
                    attack = 0.03
                }
                hills = {
                    attack = 0.03
                }
            }
        }
        mobile_operational_deployments = {
            armored_signal = {
                battalion_mult = {
                    category = category_all_armor
                    breakthrough = 0.02
                }   
            }
            armored_maintenance = { 
                battalion_mult = {
                    category = category_all_armor
                    max_strength = 0.05
                    add = yes
                }
            }
            assault_engineer = {
                battalion_mult = {
                category = category_army
                breakthrough = 0.02
                }
            }
            armored_engineer = {
                river = {
                    attack = 0.03 
                    defence = 0.06 
                    movement = 0.1 
                }
            }
        }
        self_propelled_support_elements = {
            category_sp_support_artillery = {
                soft_attack = 0.05
                hard_attack = 0.05
            }
            category_support_tanks= {
                soft_attack = 0.05
                breakthrough = 0.05
            }
            
        }
        deep_reconnaissance_focus = {
            recon = {
                battalion_mult = {
                    category = category_line_artillery
                    soft_attack = 0.05
                }
            }
            sniper_recon = {
                battalion_mult = {
                    category = category_line_artillery
                    soft_attack = 0.05
                }
            }
            mot_recon = {
                battalion_mult = {
                    category = category_line_artillery
                    soft_attack = 0.05
                }                
            }
            armored_car_recon = {
                battalion_mult = {
                    category = category_line_artillery
                    soft_attack = 0.05
                }                
            }
            light_tank_recon = {
                battalion_mult = {
                    category = category_line_artillery
                    soft_attack = 0.05
                }                
            }
            rangers_support = {
                battalion_mult = {
                    category = category_line_artillery
                    soft_attack = 0.05
                }                
            }
        }
    }
}
self_propelled_support = {

    track = support
    name = SUBDOCTRINE_SELF_PROPELLED_SUPPORT
    description = SUBDOCTRINE_SELF_PROPELLED_SUPPORT_DESC
    icon = GFX_doctrine_self_propelled_support_medium

    xp_cost = 100
    xp_type = army

    available = {
       
    }
    visible = {
        
    }


    ai_will_do = { base = 0 }


    category_sp_support_artillery = {
        max_organisation = 10
    }


    rewards = {

        mobile_battery_management_platoons = {
            category_sp_support_artillery = {
                breakthrough = 0.05
            }
            category_support_tanks = {
                breakthrough = 0.05
            }
        }
        screening_attacks = {
            light_sp_artillery = {
                urban = {
                    attack = 0.03
                    movement = 0.04
                }
            } 
            medium_sp_artillery = {
                urban = {
                    attack = 0.04
                    movement = 0.02
                }
            } 
            heavy_sp_artillery = {
                urban = {
                    attack = 0.05
                }
            }   
        }
        all_terrain_mobility = {
            light_sp_artillery = {
                fort = {
                    attack = 0.03
                }
            } 
            medium_sp_artillery = {
                fort = {
                    attack = 0.04
                }
            } 
            heavy_sp_artillery = {
                fort = {
                    attack = 0.05
                }
            }
        }
        multirole_support_vehicles = {
            category_sp_support_artillery = {
                hard_attack = 0.05
                soft_attack = 0.05
                air_attack = 0.05
            }
            category_support_tanks = {
                hard_attack = 0.05
                soft_attack = 0.05
                air_attack = 0.05
            }
        }
        shoot_and_scoot = {
            category_sp_support_artillery = {
                soft_attack = 0.05
                breakthrough = 0.05
            }
        }

    }

    
}
field_engineering = {
    track = support
    name = SUBDOCTRINE_FIELD_ENGINEERING
    description = SUBDOCTRINE_FIELD_ENGINEERING_DESC
    icon = GFX_doctrine_field_engineering_medium

    xp_cost = 100
    xp_type = army

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 75
            original_tag = ITA
        }
        modifier = {
            factor = 75
            original_tag = JAP
        }
    }

    engineer = {
        river = {
            attack = 0.02
            defence = 0.02
        }
        forest = {
            attack = 0.02
            defence = 0.02
        }
    }
    assault_engineer = {
        river = {
            attack = 0.03
            defence = 0.01
        }
        forest = {
            attack = 0.03
            defence = 0.01
        }
    }
    armored_engineer = {
        river = {
            attack = 0.04
        }
        marsh = {
            attack = 0.02
        }
    }
    pioneer_support = {
        river = {
            attack = 0.02
            defence = 0.02
        }
        forest = {
            attack = 0.02
            defence = 0.02
        }
        jungle = {
            attack = 0.02
            defence = 0.02
        }
    }

    rewards = {
        rapid_fire_lane_clearance = {
            engineer = {
                max_organisation = 5
                battalion_mult = {
                    category = category_all_infantry
                    entrenchment = 0.05
                }
            }
        }
        sapper_fieldcraft = {
            category_engineers = {
                max_organisation = 10
                max_strength = 0.25
                defense = 0.1
            }
            maintenance_company = {
                max_strength = 0.25
            }
        }
        engineerdug_gun_emplacements = {
            engineer = {
                battalion_mult = {
                    category = category_artillery
                    entrenchment = 0.1
                }
            }
        }
        smoke_projector_training = {
            category_engineers = {
                breakthrough = 0.5
            }
            maintenance_company = {
                supply_consumption = -0.01
                battalion_mult = {
                    category = category_tanks
                    reliability = 0.05
                    strength = 0.05
                }
            }

        }
        charge_and_flame = {
            category_support_tanks = {
                breakthrough = 0.1
                soft_attack = 0.1
            }
        }

    }
}

armored_infantry_support = {
    track = support
    name = SUBDOCTRINE_ARMORED_INFANTRY_SUPPORT
    description = SUBDOCTRINE_ARMORED_INFANTRY_SUPPORT_DESC
    icon = GFX_doctrine_armored_infantry_support_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }

    ai_will_do = {

        base = 1
        modifier = {
            factor = 25
            OR = {
               original_tag = ENG
               original_tag = FRA
            }
        }
        modifier = {
            factor = 0.5
            is_major = no
        }
    }

    # EFFECTS
    enable_tactic = tactic_blitz
    
    #TODO jack look if you can make a script effect for production bonuses
        
    rewards = {
        mobile_reserves = {
        #1
            category_support_tanks = {
                breakthrough = 0.05
                soft_attack = 0.1
                hard_attack = 0.05
            }
        }
        armored_cohorts = {
        #2
            armored_signal= {
                battalion_mult = {
                    category = category_light_infantry
                    breakthrough = 0.05
                }
            }
        }
        maintenance_routines = {
            category_all_armor = {
                reliability = 0.1
                default_morale = 0.05
                }
        }
        fuel_rationing = {
        #4
            logistics_company = {
                category = category_all_armor 
                fuel_consumption = -0.1
            }
        }
        mobile_armored_strongpoints = {
            category_support_tanks = {
                breakthrough = 0.1
            }
            category_recon = {
                breakthrough = 0.1
            }
            category_sp_support_artillery = {
                breakthrough = 0.1
            }
        }
    }
}
